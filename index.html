<!DOCTYPE html>
<html lang="ru" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRM –ü—Ä–æ–∫–∞—Ç –ê–≤—Ç–æ - Online v2.0</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        dark: '#1e293b',
                        darker: '#0f172a',
                    }
                }
            }
        }
    </script>
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Supabase JS -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s;
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .glass {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.85);
        }
        
        .dark .glass {
            background: rgba(30, 41, 59, 0.85);
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-darker min-h-screen">

<!-- –®–∞–ø–∫–∞ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π -->
<header class="glass border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-700 rounded-xl flex items-center justify-center text-white">
                <i class="fas fa-car"></i>
            </div>
            <div>
                <h1 class="text-xl font-bold">AutoRent CRM</h1>
                <p class="text-xs text-gray-500 dark:text-gray-400">–û–Ω–ª–∞–π–Ω –≤–µ—Ä—Å–∏—è 2.0</p>
            </div>
        </div>
        
        <div id="auth-buttons" class="flex items-center gap-3">
            <!-- –ö–Ω–æ–ø–∫–∏ –≤—Ö–æ–¥–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω -->
            <button onclick="showAuthModal()" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition">
                <i class="fas fa-sign-in-alt mr-2"></i>–í–æ–π—Ç–∏
            </button>
        </div>
        
        <div id="user-info" class="hidden flex items-center gap-3">
            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ -->
            <div class="text-right">
                <div class="font-medium" id="user-email"></div>
                <div class="text-xs text-gray-500" id="user-plan">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω</div>
            </div>
            <button onclick="logout()" class="px-4 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 transition">
                –í—ã–π—Ç–∏
            </button>
        </div>
    </div>
</header>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ -->
<div id="auth-modal" class="fixed inset-0 bg-black/50 z-[100] hidden items-center justify-center p-4">
    <div class="bg-white dark:bg-dark rounded-2xl w-full max-w-md p-6">
        <h2 class="text-2xl font-bold mb-6">–í—Ö–æ–¥ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
        
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium mb-1">Email</label>
                <input type="email" id="auth-email" 
                       class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800"
                       placeholder="your@email.com">
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-1">–ü–∞—Ä–æ–ª—å</label>
                <input type="password" id="auth-password" 
                       class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800"
                       placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤">
            </div>
            
            <div id="auth-error" class="text-red-500 text-sm hidden"></div>
            
            <div class="flex gap-3 pt-4">
                <button onclick="handleLogin()" 
                        class="flex-1 bg-blue-500 text-white py-3 rounded-lg font-medium hover:bg-blue-600 transition">
                    –í–æ–π—Ç–∏
                </button>
                <button onclick="handleSignup()" 
                        class="flex-1 bg-gray-200 dark:bg-gray-700 py-3 rounded-lg font-medium hover:bg-gray-300 transition">
                    –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                </button>
            </div>
            
            <div class="text-center text-sm text-gray-500 mt-6">
                –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∑–∞—â–∏—â–µ–Ω–Ω–æ–º –æ–±–ª–∞–∫–µ Supabase (–ï–°)
            </div>
        </div>
    </div>
</div>

<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
<main class="container mx-auto px-4 py-8" id="main-content">
    <div class="text-center py-20">
        <div class="text-5xl mb-6">üöó</div>
        <h2 class="text-3xl font-bold mb-4">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ CRM –ü—Ä–æ–∫–∞—Ç –ê–≤—Ç–æ</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-8">–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –≤–æ–π–¥–∏—Ç–µ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</p>
        <button onclick="showAuthModal()" 
                class="px-8 py-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-lg rounded-xl hover:from-blue-600 hover:to-blue-700 transition shadow-lg">
            –ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ
        </button>
        
        <div class="mt-12 grid grid-cols-1 md:grid-cols-3 gap-6 max-w-3xl mx-auto">
            <div class="bg-white dark:bg-dark p-6 rounded-xl border border-gray-200 dark:border-gray-700">
                <div class="text-3xl mb-4">‚òÅÔ∏è</div>
                <h3 class="font-bold mb-2">–û–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ</h3>
                <p class="text-sm text-gray-500">–î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º —Å –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</p>
            </div>
            
            <div class="bg-white dark:bg-dark p-6 rounded-xl border border-gray-200 dark:border-gray-700">
                <div class="text-3xl mb-4">üë•</div>
                <h3 class="font-bold mb-2">–ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π</h3>
                <p class="text-sm text-gray-500">–†–∞–±–æ—Ç–∞–π—Ç–µ –≤—Å–µ–π –∫–æ–º–∞–Ω–¥–æ–π</p>
            </div>
            
            <div class="bg-white dark:bg-dark p-6 rounded-xl border border-gray-200 dark:border-gray-700">
                <div class="text-3xl mb-4">üõ°Ô∏è</div>
                <h3 class="font-bold mb-2">–ê–≤—Ç–æ-–±—ç–∫–∞–ø</h3>
                <p class="text-sm text-gray-500">–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</p>
            </div>
        </div>
    </div>
</main>

<!-- –°–∫—Ä–∏–ø—Ç—ã -->
<script src="supabase.js"></script>
<script src="auth.js"></script>

<script>
// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
function showAuthModal() {
    document.getElementById('auth-modal').classList.remove('hidden');
    document.getElementById('auth-modal').classList.add('flex');
}

function hideAuthModal() {
    document.getElementById('auth-modal').classList.add('hidden');
    document.getElementById('auth-modal').classList.remove('flex');
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
document.getElementById('auth-modal').addEventListener('click', function(e) {
    if(e.target === this) hideAuthModal();
});
</script>

</body>
</html>